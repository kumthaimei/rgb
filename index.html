<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>ESP32 RGB LED</title>
<style>
  body   {font-family: Arial, sans-serif; text-align: center;
          margin: 0; padding: 20px; background: #111; color: #fff;}
  .slider{width: 90%;}
  #sample{width: 80px; height: 80px; margin: 20px auto;
          border-radius: 12px; border: 2px solid #555;}
  button {padding: 6px 14px; font-size: 14px;
          border: none; border-radius: 6px; cursor: pointer;}
</style>
</head>

<body>
  <h2>ESP32 RGB LED Controller</h2>

  <!-- live preview square -->
  <div id="sample"></div>

  <!-- colour sliders -->
  <label>R <input type="range" min="0" max="255" id="r" class="slider"></label><br />
  <label>G <input type="range" min="0" max="255" id="g" class="slider"></label><br />
  <label>B <input type="range" min="0" max="255" id="b" class="slider"></label><br /><br />

  <button onclick="send()">SetÂ Colour</button>

  <script>
    /* ---------- UI helpers ---------- */
    const sliders = ['r','g','b'].map(id => document.getElementById(id));
    sliders.forEach(s => s.oninput = updateSample);

    function updateSample () {
      const [r,g,b] = sliders.map(s => +s.value);
      sample.style.background = `rgb(${r},${g},${b})`;
    }

    /* ---------- Send RGB to ESP32 ---------- */
    function send () {
      const [r,g,b] = sliders.map(s => +s.value);
      fetch(`/set?R=${r}&G=${g}&B=${b}`).catch(console.error);
    }

    updateSample();   // draw initial preview square
  </script>
</body>
</html>
